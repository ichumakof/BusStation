<Window x:Class="AdminApp.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:helpers="clr-namespace:AdminApp.Helpers"
        mc:Ignorable="d"
        Title="Авторизация - Администратор" 
        Height="400" 
        Width="300"
        MinWidth="300"
        MinHeight="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </Window.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="27*"/>
            <ColumnDefinition Width="7*"/>
            <ColumnDefinition Width="41*"/>
        </Grid.ColumnDefinitions>
        <!-- Сетка с 3 строками -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Заголовок -->
            <RowDefinition Height="*"/>
            <!-- Форма -->
            <RowDefinition Height="Auto"/>
            <!-- Кнопки -->
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Grid.Row="0" Background="#2196F3" Padding="15" Grid.ColumnSpan="3" Margin="0,0,0,275" Grid.RowSpan="2">
            <TextBlock Text="АВТОРИЗАЦИЯ" 
                      Foreground="White" 
                      FontSize="18" 
                      FontWeight="Bold"
                      HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Border>

        <!-- Форма входа (центрирована) -->
        <StackPanel Grid.Row="1" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Left"
                   Width="250" Grid.ColumnSpan="3" Margin="25,0,0,0">

            <!-- Логин -->
            <TextBlock Text="Логин:" Margin="0,0,0,5"/>
            <TextBox x:Name="UsernameTextBox" 
                     Height="30" 
                     Padding="5"
                     FontSize="14"
                     Text="{Binding Username, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Пароль -->
            <TextBlock Text="Пароль:" Margin="0,10,0,5"/>
            <PasswordBox x:Name="PasswordBox" 
                         Height="30" 
                         Padding="5"
                         FontSize="14"
                         helpers:PasswordBoxHelper.BindPassword="True"
                         helpers:PasswordBoxHelper.BoundPassword="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Ошибка -->
            <TextBlock x:Name="ErrorTextBlock" 
                      Foreground="Red" 
                      Margin="0,10"
                      TextWrapping="Wrap"
                      Text="{Binding ErrorMessage}"
                      Visibility="{Binding HasError, Converter={StaticResource BooleanToVisibilityConverter}}"/>
        </StackPanel>

        <!-- Кнопки -->
        <StackPanel Grid.Row="1" 
                   Orientation="Horizontal" 
                   HorizontalAlignment="Left"
                   Margin="45,275,0,20" Grid.ColumnSpan="3">
            <Button Content="Войти" IsDefault="True"
                   Width="100" 
                   Height="35"
                   Background="#4CAF50"
                   Foreground="White"
                   FontWeight="Bold"
                   Command="{Binding LoginCommand}"/>
            <Button Content="Отмена" IsCancel="True"
                   Width="100" 
                   Height="35"
                   Margin="10,0,0,0"
                   Command="{Binding CancelCommand}"/>
        </StackPanel>
    </Grid>
</Window>